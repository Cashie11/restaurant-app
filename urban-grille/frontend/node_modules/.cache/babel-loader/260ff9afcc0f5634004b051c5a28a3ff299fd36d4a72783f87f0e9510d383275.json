{"ast":null,"code":"import React,{useState,useEffect}from'react';import toast from'react-hot-toast';import{useCart}from'../context/CartContext';import{useAuth}from'../context/AuthContext';import{useNavigate}from'react-router-dom';import{useTouchSwipe}from'../hooks/useTouchSwipe';import{productService}from'../services/productService';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const OfferCard=_ref=>{let{offer,handleAddToCart,addingId}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100 border-0 position-relative\",style:{borderRadius:'16px',overflow:'hidden',transition:'all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)',cursor:'pointer',backgroundColor:'#ffffff',boxShadow:'0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.025)',position:'relative'},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-10px)';e.currentTarget.style.boxShadow='0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.025)';},children:[/*#__PURE__*/_jsxs(\"span\",{className:\"badge position-absolute top-0 start-0 m-3 shadow-sm\",style:{borderRadius:'8px',padding:'8px 16px',fontSize:'12px',fontWeight:700,textTransform:'uppercase',letterSpacing:'0.5px',zIndex:20,backgroundColor:'#d63031',color:'white',animation:'bounceIn 0.8s cubic-bezier(0.8, 0, 1, 1)'},children:[\"-\",offer.discount,\"%\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-wishlist position-absolute top-0 end-0 m-3\",type:\"button\",style:{zIndex:20,background:'rgba(255, 255, 255, 0.9)',backdropFilter:'blur(4px)',borderRadius:'12px',width:'40px',height:'40px',border:'1px solid rgba(0,0,0,0.05)',transition:'all 0.3s ease',display:'flex',alignItems:'center',justifyContent:'center',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1)'},onMouseEnter:e=>{e.currentTarget.style.background='#FF6B35';e.currentTarget.style.color='white';e.currentTarget.style.transform='scale(1.1) rotate(5deg)';e.currentTarget.style.borderColor='#FF6B35';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(255, 255, 255, 0.9)';e.currentTarget.style.color='#2d3436';e.currentTarget.style.transform='scale(1) rotate(0deg)';e.currentTarget.style.borderColor='rgba(0,0,0,0.05)';},children:/*#__PURE__*/_jsx(\"i\",{className:\"ci-heart fs-sm\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-img-top position-relative overflow-hidden\",style:{height:'240px',background:'radial-gradient(circle at center, #ffffff 0%, #f8f9fa 100%)',display:'flex',alignItems:'center',justifyContent:'center',padding:'2rem'},children:/*#__PURE__*/_jsx(\"img\",{src:offer.image,alt:offer.name,style:{maxHeight:'100%',maxWidth:'100%',objectFit:'contain',transition:'transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)',filter:'drop-shadow(0 10px 15px rgba(0,0,0,0.1))'},onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.15) translateY(-5px)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1) translateY(0)';}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center p-4 d-flex flex-column\",style:{background:'#ffffff',position:'relative',zIndex:10},children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-uppercase fw-bold mb-2\",style:{fontSize:'11px',letterSpacing:'1px',color:'#b2bec3'},children:offer.category}),/*#__PURE__*/_jsx(\"h6\",{className:\"mb-3 product-title\",style:{fontSize:'16px',fontWeight:700,minHeight:'48px',lineHeight:'1.5',color:'#2d3436',transition:'color 0.2s'},children:offer.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-center mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex text-warning me-2\",children:[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(\"i\",{className:\"ci-star\".concat(i<Math.floor(offer.rating)?'-filled':'',\" fs-xs\"),style:{marginRight:'2px'}},i))}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted fs-xs fw-medium\",children:[\"(\",offer.reviews,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 d-flex align-items-center justify-content-center gap-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"fw-bolder\",style:{fontSize:'24px',color:'#FF6B35',letterSpacing:'-0.5px'},children:[\"$\",offer.price.toFixed(2)]}),/*#__PURE__*/_jsxs(\"del\",{className:\"text-muted fw-normal\",style:{fontSize:'15px'},children:[\"$\",offer.originalPrice.toFixed(2)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"fw-bold\",style:{color:'#00b894',fontSize:'13px',background:'rgba(0, 184, 148, 0.1)',padding:'4px 8px',borderRadius:'4px'},children:[\"Save $\",(offer.originalPrice-offer.price).toFixed(2),\"!\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-success\",style:{fontSize:'11px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"ci-package me-1\"}),offer.stock_quantity||50,\" in stock\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-auto\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn w-100 mb-3 fw-bold\",style:{background:'linear-gradient(135deg, #FF6B35 0%, #F7931E 100%)',border:'none',borderRadius:'12px',padding:'12px',color:'white',fontSize:'14px',boxShadow:'0 4px 6px rgba(255, 107, 53, 0.2)',transition:'all 0.3s ease',position:'relative',overflow:'hidden',opacity:addingId===offer.id?0.8:1},disabled:addingId===offer.id,onClick:e=>handleAddToCart(e,offer.id),onMouseEnter:e=>{if(addingId!==offer.id){e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 10px 15px rgba(255, 107, 53, 0.3)';}},onMouseLeave:e=>{if(addingId!==offer.id){e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 4px 6px rgba(255, 107, 53, 0.2)';}},children:addingId===offer.id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",\"aria-hidden\":\"true\"}),\"Adding...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"ci-cart me-2\"}),\" Add to Cart\"]})}),/*#__PURE__*/_jsxs(\"a\",{href:\"#!\",className:\"text-decoration-none d-inline-flex align-items-center justify-content-center fw-semibold quick-view-link\",style:{fontSize:'13px',color:'#636e72',transition:'all 0.2s ease',borderBottom:'1px solid transparent'},onMouseEnter:e=>{e.currentTarget.style.color='#FF6B35';e.currentTarget.style.borderBottomColor='#FF6B35';},onMouseLeave:e=>{e.currentTarget.style.color='#636e72';e.currentTarget.style.borderBottomColor='transparent';},children:[/*#__PURE__*/_jsx(\"i\",{className:\"ci-eye me-1\"}),\" Quick view\"]})]})]})]});};const SpecialOffers=()=>{const{addToCart}=useCart();const{isAuthenticated}=useAuth();const navigate=useNavigate();const[addingId,setAddingId]=useState(null);const[offers,setOffers]=useState([]);const[loading,setLoading]=useState(true);// Initialize swipe with items length\nconst swipe=useTouchSwipe(offers.length);useEffect(()=>{loadOffers();},[]);const loadOffers=async()=>{try{// Import dynamically or assume it's available in context/imports\nconst offerProducts=await productService.getOfferProducts(6);// Transform API product to component Offer interface\nconst formattedOffers=offerProducts.map(p=>{const discount=p.discount_percentage||0;// Assuming p.price is the SELLING price (stored in DB as the price to charge)\n// If DB stores Original Price, then selling price = p.price * (1 - discount/100).\n// Let's assume DB stores the reference price (Original).\n// Wait, if I add to cart, it uses p.price. So p.price MUST be the selling price.\n// But typically e-commerce stores base price and applies discount.\n// Let's check Cart logic... Cart uses p.price.\n// So p.price is the price USER PAYS.\n// Then Original Price = p.price / (1 - discount/100).\n// However, to be safe and avoid division by zero:\nconst originalPrice=discount>0?p.price/(1-discount/100):p.price;return{id:p.id,name:p.name,price:p.price,originalPrice:originalPrice,discount:discount,image:p.image_url||'/assets/img/placeholder.png',category:p.category,rating:p.rating,reviews:p.review_count,stock_quantity:p.stock_quantity};});setOffers(formattedOffers);}catch(error){console.error('Failed to load special offers:',error);}finally{setLoading(false);}};const handleAddToCart=async(e,productId)=>{e.preventDefault();// Prevent navigation if inside a link\ne.stopPropagation();if(!isAuthenticated){navigate('/signin');return;}try{setAddingId(productId);await addToCart(productId,1);toast.success('Item added to cart successfully!');}catch(error){var _error$response,_error$response$data;console.error('Failed to add item:',error);const msg=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||error.message||\"Failed to add item to cart\";toast.error(\"Error: \".concat(msg));}finally{setAddingId(null);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\"})});}if(offers.length===0)return null;return/*#__PURE__*/_jsxs(\"section\",{className:\"container py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-5\",style:{animation:'fadeInDown 0.6s ease-out'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline-flex align-items-center bg-light px-3 py-2 rounded-pill mb-3\",style:{animation:'pulse 2s ease-in-out infinite'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"ci-percent text-danger me-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-uppercase fw-semibold\",style:{fontSize:'12px',letterSpacing:'1px',color:'#FF6B35'},children:\"LIMITED TIME\"})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"display-6 fw-bold mb-3\",children:\"Special Offers\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-4\",style:{maxWidth:'600px',margin:'0 auto'},children:\"Amazing deals you don't want to miss - save big on quality products\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-md-none\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"position-absolute top-50 start-0 translate-middle-y d-flex align-items-center justify-content-center border-0\",style:{zIndex:10,left:'-25px',width:'48px',height:'48px',borderRadius:'50%',background:'linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)',boxShadow:'0 8px 25px rgba(0, 0, 0, 0.15), 0 4px 10px rgba(0, 0, 0, 0.05)',border:'2px solid rgba(255, 107, 53, 0.1)',transition:'all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)',cursor:'pointer'},onClick:()=>swipe.goToSlide(Math.max(0,swipe.currentIndex-1)),disabled:swipe.currentIndex===0,children:/*#__PURE__*/_jsx(\"i\",{className:\"ci-arrow-left\",style:{fontSize:'18px',color:swipe.currentIndex===0?'#dfe6e9':'#FF6B35'}})}),/*#__PURE__*/_jsx(\"button\",{className:\"position-absolute top-50 end-0 translate-middle-y d-flex align-items-center justify-content-center border-0\",style:{zIndex:10,right:'-25px',width:'48px',height:'48px',borderRadius:'50%',background:'linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)',boxShadow:'0 8px 25px rgba(0, 0, 0, 0.15), 0 4px 10px rgba(0, 0, 0, 0.05)',border:'2px solid rgba(255, 107, 53, 0.1)',transition:'all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)',cursor:'pointer'},onClick:()=>swipe.goToSlide(Math.min(offers.length-1,swipe.currentIndex+1)),disabled:swipe.currentIndex===offers.length-1,children:/*#__PURE__*/_jsx(\"i\",{className:\"ci-arrow-right\",style:{fontSize:'18px',color:swipe.currentIndex===offers.length-1?'#dfe6e9':'#FF6B35'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-hidden\",style:{touchAction:'pan-y'},children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex transition-transform\",style:{width:\"\".concat(offers.length*100,\"%\"),transform:\"translateX(-\".concat(swipe.currentIndex*(100/offers.length),\"%)\"),transition:swipe.isDragging?'none':'transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)'},onTouchStart:swipe.handleTouchStart,onTouchMove:swipe.handleTouchMove,onTouchEnd:swipe.handleTouchEnd,children:offers.map(offer=>/*#__PURE__*/_jsx(\"div\",{className:\"px-2\",style:{width:\"\".concat(100/offers.length,\"%\")},children:/*#__PURE__*/_jsx(OfferCard,{offer:offer,handleAddToCart:handleAddToCart,addingId:addingId})},offer.id))})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mt-3 gap-2\",children:offers.map((_,index)=>/*#__PURE__*/_jsx(\"button\",{className:\"rounded-circle border-0\",style:{width:'8px',height:'8px',backgroundColor:swipe.currentIndex===index?'#FF6B35':'#dfe6e9',transition:'background-color 0.3s ease'},onClick:()=>swipe.goToSlide(index)},index))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row g-4 mt-4 d-none d-md-flex\",children:offers.map((offer,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 col-md-6\",style:{animation:\"fadeInUp 0.6s ease-out \".concat(idx*0.1,\"s both\")},children:/*#__PURE__*/_jsx(OfferCard,{offer:offer,handleAddToCart:handleAddToCart,addingId:addingId})},offer.id))})]});};export default SpecialOffers;","map":{"version":3,"names":["React","useState","useEffect","toast","useCart","useAuth","useNavigate","useTouchSwipe","productService","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","OfferCard","_ref","offer","handleAddToCart","addingId","className","style","borderRadius","overflow","transition","cursor","backgroundColor","boxShadow","position","onMouseEnter","e","currentTarget","transform","onMouseLeave","children","padding","fontSize","fontWeight","textTransform","letterSpacing","zIndex","color","animation","discount","type","background","backdropFilter","width","height","border","display","alignItems","justifyContent","borderColor","src","image","alt","name","maxHeight","maxWidth","objectFit","filter","category","minHeight","lineHeight","Array","map","_","i","concat","Math","floor","rating","marginRight","reviews","price","toFixed","originalPrice","stock_quantity","opacity","id","disabled","onClick","role","href","borderBottom","borderBottomColor","SpecialOffers","addToCart","isAuthenticated","navigate","setAddingId","offers","setOffers","loading","setLoading","swipe","length","loadOffers","offerProducts","getOfferProducts","formattedOffers","p","discount_percentage","image_url","review_count","error","console","productId","preventDefault","stopPropagation","success","_error$response","_error$response$data","msg","response","data","detail","message","margin","left","goToSlide","max","currentIndex","right","min","touchAction","isDragging","onTouchStart","handleTouchStart","onTouchMove","handleTouchMove","onTouchEnd","handleTouchEnd","index","idx"],"sources":["/home/cyber/Desktop/Bot/team1/urban-grille/frontend/src/components/SpecialOffers.tsx"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport toast from 'react-hot-toast';\nimport { useCart } from '../context/CartContext';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { useTouchSwipe } from '../hooks/useTouchSwipe';\nimport { productService, Product } from '../services/productService';\n\ninterface Offer {\n    id: number;\n    name: string;\n    price: number;\n    originalPrice: number;\n    discount: number;\n    image: string;\n    category: string;\n    rating: number;\n    reviews: number;\n    stock_quantity?: number;\n}\n\ninterface OfferCardProps {\n    offer: Offer;\n    handleAddToCart: (e: React.MouseEvent, productId: number) => Promise<void>;\n    addingId: number | null;\n}\n\nconst OfferCard: React.FC<OfferCardProps> = ({ offer, handleAddToCart, addingId }) => (\n    <div\n        className=\"card h-100 border-0 position-relative\"\n        style={{\n            borderRadius: '16px',\n            overflow: 'hidden',\n            transition: 'all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n            cursor: 'pointer',\n            backgroundColor: '#ffffff',\n            boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.025)',\n            position: 'relative'\n        }}\n        onMouseEnter={(e) => {\n            e.currentTarget.style.transform = 'translateY(-10px)';\n            e.currentTarget.style.boxShadow = '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)';\n        }}\n        onMouseLeave={(e) => {\n            e.currentTarget.style.transform = 'translateY(0)';\n            e.currentTarget.style.boxShadow = '0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.025)';\n        }}\n    >\n\n        {/* Discount Badge */}\n        <span\n            className=\"badge position-absolute top-0 start-0 m-3 shadow-sm\"\n            style={{\n                borderRadius: '8px',\n                padding: '8px 16px',\n                fontSize: '12px',\n                fontWeight: 700,\n                textTransform: 'uppercase',\n                letterSpacing: '0.5px',\n                zIndex: 20,\n                backgroundColor: '#d63031',\n                color: 'white',\n                animation: 'bounceIn 0.8s cubic-bezier(0.8, 0, 1, 1)'\n            }}\n        >\n            -{offer.discount}%\n        </span>\n\n        {/* Wishlist Button */}\n        <button\n            className=\"btn-wishlist position-absolute top-0 end-0 m-3\"\n            type=\"button\"\n            style={{\n                zIndex: 20,\n                background: 'rgba(255, 255, 255, 0.9)',\n                backdropFilter: 'blur(4px)',\n                borderRadius: '12px',\n                width: '40px',\n                height: '40px',\n                border: '1px solid rgba(0,0,0,0.05)',\n                transition: 'all 0.3s ease',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\n            }}\n            onMouseEnter={(e) => {\n                e.currentTarget.style.background = '#FF6B35';\n                e.currentTarget.style.color = 'white';\n                e.currentTarget.style.transform = 'scale(1.1) rotate(5deg)';\n                e.currentTarget.style.borderColor = '#FF6B35';\n            }}\n            onMouseLeave={(e) => {\n                e.currentTarget.style.background = 'rgba(255, 255, 255, 0.9)';\n                e.currentTarget.style.color = '#2d3436';\n                e.currentTarget.style.transform = 'scale(1) rotate(0deg)';\n                e.currentTarget.style.borderColor = 'rgba(0,0,0,0.05)';\n            }}\n        >\n            <i className=\"ci-heart fs-sm\"></i>\n        </button>\n\n        {/* Product Image */}\n        <div className=\"card-img-top position-relative overflow-hidden\" style={{\n            height: '240px',\n            background: 'radial-gradient(circle at center, #ffffff 0%, #f8f9fa 100%)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: '2rem'\n        }}>\n            <img\n                src={offer.image}\n                alt={offer.name}\n                style={{\n                    maxHeight: '100%',\n                    maxWidth: '100%',\n                    objectFit: 'contain',\n                    transition: 'transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n                    filter: 'drop-shadow(0 10px 15px rgba(0,0,0,0.1))'\n                }}\n                onMouseEnter={(e) => {\n                    e.currentTarget.style.transform = 'scale(1.15) translateY(-5px)';\n                }}\n                onMouseLeave={(e) => {\n                    e.currentTarget.style.transform = 'scale(1) translateY(0)';\n                }}\n            />\n        </div>\n\n        {/* Product Info */}\n        <div className=\"card-body text-center p-4 d-flex flex-column\" style={{ background: '#ffffff', position: 'relative', zIndex: 10 }}>\n            <p className=\"text-uppercase fw-bold mb-2\" style={{\n                fontSize: '11px',\n                letterSpacing: '1px',\n                color: '#b2bec3'\n            }}>\n                {offer.category}\n            </p>\n\n            <h6 className=\"mb-3 product-title\" style={{\n                fontSize: '16px',\n                fontWeight: 700,\n                minHeight: '48px',\n                lineHeight: '1.5',\n                color: '#2d3436',\n                transition: 'color 0.2s'\n            }}>\n                {offer.name}\n            </h6>\n\n            {/* Rating */}\n            <div className=\"d-flex align-items-center justify-content-center mb-3\">\n                <div className=\"d-flex text-warning me-2\">\n                    {[...Array(5)].map((_, i) => (\n                        <i key={i} className={`ci-star${i < Math.floor(offer.rating) ? '-filled' : ''} fs-xs`} style={{ marginRight: '2px' }}></i>\n                    ))}\n                </div>\n                <span className=\"text-muted fs-xs fw-medium\">({offer.reviews})</span>\n            </div>\n\n            {/* Price */}\n            <div className=\"mb-4 d-flex align-items-center justify-content-center gap-2\">\n                <span className=\"fw-bolder\" style={{\n                    fontSize: '24px',\n                    color: '#FF6B35',\n                    letterSpacing: '-0.5px'\n                }}>\n                    ${offer.price.toFixed(2)}\n                </span>\n                <del className=\"text-muted fw-normal\" style={{ fontSize: '15px' }}>\n                    ${offer.originalPrice.toFixed(2)}\n                </del>\n            </div>\n\n            {/* Savings Badge */}\n            <div className=\"mb-3\">\n                <span className=\"fw-bold\" style={{ color: '#00b894', fontSize: '13px', background: 'rgba(0, 184, 148, 0.1)', padding: '4px 8px', borderRadius: '4px' }}>\n                    Save ${(offer.originalPrice - offer.price).toFixed(2)}!\n                </span>\n            </div>\n\n            {/* Stock Status */}\n            <div className=\"text-center mb-2\">\n                <span className=\"badge bg-success\" style={{ fontSize: '11px' }}>\n                    <i className=\"ci-package me-1\"></i>\n                    {offer.stock_quantity || 50} in stock\n                </span>\n            </div>\n\n            <div className=\"mt-auto\">\n                {/* Add to Cart Button */}\n                <button\n                    className=\"btn w-100 mb-3 fw-bold\"\n                    style={{\n                        background: 'linear-gradient(135deg, #FF6B35 0%, #F7931E 100%)',\n                        border: 'none',\n                        borderRadius: '12px',\n                        padding: '12px',\n                        color: 'white',\n                        fontSize: '14px',\n                        boxShadow: '0 4px 6px rgba(255, 107, 53, 0.2)',\n                        transition: 'all 0.3s ease',\n                        position: 'relative',\n                        overflow: 'hidden',\n                        opacity: addingId === offer.id ? 0.8 : 1\n                    }}\n                    disabled={addingId === offer.id}\n                    onClick={(e) => handleAddToCart(e, offer.id)}\n                    onMouseEnter={(e) => {\n                        if (addingId !== offer.id) {\n                            e.currentTarget.style.transform = 'translateY(-2px)';\n                            e.currentTarget.style.boxShadow = '0 10px 15px rgba(255, 107, 53, 0.3)';\n                        }\n                    }}\n                    onMouseLeave={(e) => {\n                        if (addingId !== offer.id) {\n                            e.currentTarget.style.transform = 'translateY(0)';\n                            e.currentTarget.style.boxShadow = '0 4px 6px rgba(255, 107, 53, 0.2)';\n                        }\n                    }}\n                >\n                    {addingId === offer.id ? (\n                        <>\n                            <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                            Adding...\n                        </>\n                    ) : (\n                        <>\n                            <i className=\"ci-cart me-2\"></i> Add to Cart\n                        </>\n                    )}\n                </button>\n\n                {/* Quick View Link */}\n                <a\n                    href=\"#!\"\n                    className=\"text-decoration-none d-inline-flex align-items-center justify-content-center fw-semibold quick-view-link\"\n                    style={{\n                        fontSize: '13px',\n                        color: '#636e72',\n                        transition: 'all 0.2s ease',\n                        borderBottom: '1px solid transparent'\n                    }}\n                    onMouseEnter={(e) => {\n                        e.currentTarget.style.color = '#FF6B35';\n                        e.currentTarget.style.borderBottomColor = '#FF6B35';\n                    }}\n                    onMouseLeave={(e) => {\n                        e.currentTarget.style.color = '#636e72';\n                        e.currentTarget.style.borderBottomColor = 'transparent';\n                    }}\n                >\n                    <i className=\"ci-eye me-1\"></i> Quick view\n                </a>\n            </div>\n        </div>\n    </div>\n);\n\nconst SpecialOffers: React.FC = () => {\n    const { addToCart } = useCart();\n    const { isAuthenticated } = useAuth();\n    const navigate = useNavigate();\n    const [addingId, setAddingId] = useState<number | null>(null);\n    const [offers, setOffers] = useState<Offer[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    // Initialize swipe with items length\n    const swipe = useTouchSwipe(offers.length);\n\n    useEffect(() => {\n        loadOffers();\n    }, []);\n\n    const loadOffers = async () => {\n        try {\n            // Import dynamically or assume it's available in context/imports\n            const offerProducts: Product[] = await productService.getOfferProducts(6);\n\n            // Transform API product to component Offer interface\n            const formattedOffers = offerProducts.map((p: Product) => {\n                const discount = p.discount_percentage || 0;\n                // Assuming p.price is the SELLING price (stored in DB as the price to charge)\n                // If DB stores Original Price, then selling price = p.price * (1 - discount/100).\n                // Let's assume DB stores the reference price (Original).\n                // Wait, if I add to cart, it uses p.price. So p.price MUST be the selling price.\n                // But typically e-commerce stores base price and applies discount.\n                // Let's check Cart logic... Cart uses p.price.\n                // So p.price is the price USER PAYS.\n                // Then Original Price = p.price / (1 - discount/100).\n\n                // However, to be safe and avoid division by zero:\n                const originalPrice = discount > 0\n                    ? p.price / (1 - discount / 100)\n                    : p.price;\n\n                return {\n                    id: p.id,\n                    name: p.name,\n                    price: p.price,\n                    originalPrice: originalPrice,\n                    discount: discount,\n                    image: p.image_url || '/assets/img/placeholder.png',\n                    category: p.category,\n                    rating: p.rating,\n                    reviews: p.review_count,\n                    stock_quantity: p.stock_quantity\n                };\n            });\n\n            setOffers(formattedOffers);\n        } catch (error) {\n            console.error('Failed to load special offers:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleAddToCart = async (e: React.MouseEvent, productId: number) => {\n        e.preventDefault(); // Prevent navigation if inside a link\n        e.stopPropagation();\n\n        if (!isAuthenticated) {\n            navigate('/signin');\n            return;\n        }\n\n        try {\n            setAddingId(productId);\n            await addToCart(productId, 1);\n            toast.success('Item added to cart successfully!');\n        } catch (error: any) {\n            console.error('Failed to add item:', error);\n            const msg = error.response?.data?.detail || error.message || \"Failed to add item to cart\";\n            toast.error(`Error: ${msg}`);\n        } finally {\n            setAddingId(null);\n        }\n    };\n\n    if (loading) {\n        return <div className=\"text-center py-5\"><div className=\"spinner-border text-primary\"></div></div>;\n    }\n\n    if (offers.length === 0) return null;\n\n    return (\n        <section className=\"container py-5\">\n            {/* Header Section */}\n            <div className=\"text-center mb-5\" style={{\n                animation: 'fadeInDown 0.6s ease-out'\n            }}>\n                <div className=\"d-inline-flex align-items-center bg-light px-3 py-2 rounded-pill mb-3\" style={{\n                    animation: 'pulse 2s ease-in-out infinite'\n                }}>\n                    <i className=\"ci-percent text-danger me-2\"></i>\n                    <span className=\"text-uppercase fw-semibold\" style={{ fontSize: '12px', letterSpacing: '1px', color: '#FF6B35' }}>\n                        LIMITED TIME\n                    </span>\n                </div>\n                <h2 className=\"display-6 fw-bold mb-3\">Special Offers</h2>\n                <p className=\"text-muted mb-4\" style={{ maxWidth: '600px', margin: '0 auto' }}>\n                    Amazing deals you don't want to miss - save big on quality products\n                </p>\n            </div>\n\n            {/* Mobile Carousel */}\n            <div className=\"d-md-none\">\n                <div className=\"position-relative\">\n                    {/* Previous Button */}\n                    <button\n                        className=\"position-absolute top-50 start-0 translate-middle-y d-flex align-items-center justify-content-center border-0\"\n                        style={{\n                            zIndex: 10,\n                            left: '-25px',\n                            width: '48px',\n                            height: '48px',\n                            borderRadius: '50%',\n                            background: 'linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)',\n                            boxShadow: '0 8px 25px rgba(0, 0, 0, 0.15), 0 4px 10px rgba(0, 0, 0, 0.05)',\n                            border: '2px solid rgba(255, 107, 53, 0.1)',\n                            transition: 'all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n                            cursor: 'pointer'\n                        }}\n                        onClick={() => swipe.goToSlide(Math.max(0, swipe.currentIndex - 1))}\n                        disabled={swipe.currentIndex === 0}\n                    >\n                        <i className=\"ci-arrow-left\" style={{ fontSize: '18px', color: swipe.currentIndex === 0 ? '#dfe6e9' : '#FF6B35' }}></i>\n                    </button>\n\n                    {/* Next Button */}\n                    <button\n                        className=\"position-absolute top-50 end-0 translate-middle-y d-flex align-items-center justify-content-center border-0\"\n                        style={{\n                            zIndex: 10,\n                            right: '-25px',\n                            width: '48px',\n                            height: '48px',\n                            borderRadius: '50%',\n                            background: 'linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)',\n                            boxShadow: '0 8px 25px rgba(0, 0, 0, 0.15), 0 4px 10px rgba(0, 0, 0, 0.05)',\n                            border: '2px solid rgba(255, 107, 53, 0.1)',\n                            transition: 'all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n                            cursor: 'pointer'\n                        }}\n                        onClick={() => swipe.goToSlide(Math.min(offers.length - 1, swipe.currentIndex + 1))}\n                        disabled={swipe.currentIndex === offers.length - 1}\n                    >\n                        <i className=\"ci-arrow-right\" style={{ fontSize: '18px', color: swipe.currentIndex === offers.length - 1 ? '#dfe6e9' : '#FF6B35' }}></i>\n                    </button>\n\n                    <div className=\"overflow-hidden\" style={{ touchAction: 'pan-y' }}>\n                        <div\n                            className=\"d-flex transition-transform\"\n                            style={{\n                                width: `${offers.length * 100}%`,\n                                transform: `translateX(-${swipe.currentIndex * (100 / offers.length)}%)`,\n                                transition: swipe.isDragging ? 'none' : 'transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n                            }}\n                            onTouchStart={swipe.handleTouchStart}\n                            onTouchMove={swipe.handleTouchMove}\n                            onTouchEnd={swipe.handleTouchEnd}\n                        >\n                            {offers.map((offer) => (\n                                <div key={offer.id} className=\"px-2\" style={{ width: `${100 / offers.length}%` }}>\n                                    <OfferCard offer={offer} handleAddToCart={handleAddToCart} addingId={addingId} />\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n\n                {/* Dots Indicator */}\n                <div className=\"d-flex justify-content-center mt-3 gap-2\">\n                    {offers.map((_, index) => (\n                        <button\n                            key={index}\n                            className=\"rounded-circle border-0\"\n                            style={{\n                                width: '8px',\n                                height: '8px',\n                                backgroundColor: swipe.currentIndex === index ? '#FF6B35' : '#dfe6e9',\n                                transition: 'background-color 0.3s ease',\n                            }}\n                            onClick={() => swipe.goToSlide(index)}\n                        />\n                    ))}\n                </div>\n            </div>\n\n            {/* Desktop Grid */}\n            <div className=\"row g-4 mt-4 d-none d-md-flex\">\n                {offers.map((offer, idx) => (\n                    <div key={offer.id} className=\"col-lg-4 col-md-6\" style={{\n                        animation: `fadeInUp 0.6s ease-out ${idx * 0.1}s both`\n                    }}>\n                        <OfferCard offer={offer} handleAddToCart={handleAddToCart} addingId={addingId} />\n                    </div>\n                ))}\n            </div>\n        </section>\n    );\n};\n\nexport default SpecialOffers;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}