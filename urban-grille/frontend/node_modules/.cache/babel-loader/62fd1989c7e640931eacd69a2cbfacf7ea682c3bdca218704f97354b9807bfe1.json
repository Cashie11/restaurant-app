{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useCart}from'../context/CartContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FloatingCart=()=>{const{cart}=useCart();const[isAnimating,setIsAnimating]=useState(false);const[prevCount,setPrevCount]=useState(0);// Watch for cart item count changes to trigger animation\nuseEffect(()=>{console.log('FloatingCart render check:',{hasCart:!!cart,totalItems:cart===null||cart===void 0?void 0:cart.total_items,prevCount});if(cart&&cart.total_items>prevCount){setIsAnimating(true);const timer=setTimeout(()=>setIsAnimating(false),600);return()=>clearTimeout(timer);}if(cart){setPrevCount(cart.total_items);}},[cart,prevCount]);// Only render if cart has items\nif(!cart||cart.total_items===0){return null;}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n                    @keyframes bounce-in {\\n                        0% { transform: scale(0) rotate(0deg); opacity: 0; }\\n                        50% { transform: scale(1.2) rotate(180deg); opacity: 1; }\\n                        100% { transform: scale(1) rotate(360deg); opacity: 1; }\\n                    }\\n                    \\n                    @keyframes pulse-ring {\\n                        0% { transform: scale(1); opacity: 1; }\\n                        50% { transform: scale(1.3); opacity: 0.3; }\\n                        100% { transform: scale(1.5); opacity: 0; }\\n                    }\\n                    \\n                    @keyframes float {\\n                        0%, 100% { transform: translateY(0px); }\\n                        50% { transform: translateY(-10px); }\\n                    }\\n                    \\n                    .floating-cart {\\n                        position: fixed;\\n                        bottom: 20px;\\n                        right: 20px;\\n                        z-index: 9999 !important;\\n                        animation: float 3s ease-in-out infinite;\\n                    }\\n                    \\n                    .floating-cart-icon {\\n                        width: 60px;\\n                        height: 60px;\\n                        background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);\\n                        border-radius: 50%;\\n                        display: flex;\\n                        align-items: center;\\n                        justify-content: center;\\n                        box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3), 0 4px 10px rgba(255, 107, 53, 0.2);\\n                        transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\\n                        cursor: pointer;\\n                        text-decoration: none;\\n                        color: white;\\n                        border: 3px solid white !important;\\n                    }\\n                    \\n                    .floating-cart-icon:hover {\\n                        transform: scale(1.1);\\n                        box-shadow: 0 12px 35px rgba(255, 107, 53, 0.4), 0 6px 15px rgba(255, 107, 53, 0.3);\\n                        background: linear-gradient(135deg, #F7931E 0%, #FF6B35 100%);\\n                    }\\n                    \\n                    .floating-cart-icon.bounce-in {\\n                        animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);\\n                    }\\n                    \\n                    .cart-badge {\\n                        position: absolute;\\n                        top: -5px;\\n                        right: -5px;\\n                        background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);\\n                        color: white;\\n                        border-radius: 50%;\\n                        width: 24px;\\n                        height: 24px;\\n                        display: flex;\\n                        align-items: center;\\n                        justify-content: center;\\n                        font-size: 12px;\\n                        font-weight: bold;\\n                        box-shadow: 0 4px 12px rgba(231, 76, 60, 0.4);\\n                        border: 2px solid white;\\n                    }\\n                    \\n                    .cart-badge.pulse::after {\\n                        content: '';\\n                        position: absolute;\\n                        top: 0;\\n                        left: 0;\\n                        width: 100%;\\n                        height: 100%;\\n                        border-radius: 50%;\\n                        background: inherit;\\n                        animation: pulse-ring 1.5s ease-out infinite;\\n                    }\\n                    \\n                    .cart-icon {\\n                        font-size: 24px;\\n                        color: white;\\n                    }\\n                \"}),/*#__PURE__*/_jsx(\"div\",{className:\"floating-cart\",children:/*#__PURE__*/_jsxs(Link,{to:\"/cart\",className:\"floating-cart-icon \".concat(isAnimating?'bounce-in':''),children:[/*#__PURE__*/_jsx(\"i\",{className:\"ci-shopping-cart cart-icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"cart-badge \".concat(isAnimating?'pulse':''),children:cart.total_items>99?'99+':cart.total_items})]})})]});};export default FloatingCart;","map":{"version":3,"names":["React","useState","useEffect","Link","useCart","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FloatingCart","cart","isAnimating","setIsAnimating","prevCount","setPrevCount","console","log","hasCart","totalItems","total_items","timer","setTimeout","clearTimeout","children","className","to","concat"],"sources":["/home/cyber/Desktop/Bot/team1/urban-grille/frontend/src/components/FloatingCart.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useCart } from '../context/CartContext';\n\nconst FloatingCart: React.FC = () => {\n    const { cart } = useCart();\n    const [isAnimating, setIsAnimating] = useState(false);\n    const [prevCount, setPrevCount] = useState(0);\n\n    // Watch for cart item count changes to trigger animation\n    useEffect(() => {\n        console.log('FloatingCart render check:', {\n            hasCart: !!cart,\n            totalItems: cart?.total_items,\n            prevCount\n        });\n\n        if (cart && cart.total_items > prevCount) {\n            setIsAnimating(true);\n            const timer = setTimeout(() => setIsAnimating(false), 600);\n            return () => clearTimeout(timer);\n        }\n        if (cart) {\n            setPrevCount(cart.total_items);\n        }\n    }, [cart, prevCount]);\n\n    // Only render if cart has items\n    if (!cart || cart.total_items === 0) {\n        return null;\n    }\n\n    return (\n        <>\n            <style>\n                {`\n                    @keyframes bounce-in {\n                        0% { transform: scale(0) rotate(0deg); opacity: 0; }\n                        50% { transform: scale(1.2) rotate(180deg); opacity: 1; }\n                        100% { transform: scale(1) rotate(360deg); opacity: 1; }\n                    }\n                    \n                    @keyframes pulse-ring {\n                        0% { transform: scale(1); opacity: 1; }\n                        50% { transform: scale(1.3); opacity: 0.3; }\n                        100% { transform: scale(1.5); opacity: 0; }\n                    }\n                    \n                    @keyframes float {\n                        0%, 100% { transform: translateY(0px); }\n                        50% { transform: translateY(-10px); }\n                    }\n                    \n                    .floating-cart {\n                        position: fixed;\n                        bottom: 20px;\n                        right: 20px;\n                        z-index: 9999 !important;\n                        animation: float 3s ease-in-out infinite;\n                    }\n                    \n                    .floating-cart-icon {\n                        width: 60px;\n                        height: 60px;\n                        background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);\n                        border-radius: 50%;\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3), 0 4px 10px rgba(255, 107, 53, 0.2);\n                        transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n                        cursor: pointer;\n                        text-decoration: none;\n                        color: white;\n                        border: 3px solid white !important;\n                    }\n                    \n                    .floating-cart-icon:hover {\n                        transform: scale(1.1);\n                        box-shadow: 0 12px 35px rgba(255, 107, 53, 0.4), 0 6px 15px rgba(255, 107, 53, 0.3);\n                        background: linear-gradient(135deg, #F7931E 0%, #FF6B35 100%);\n                    }\n                    \n                    .floating-cart-icon.bounce-in {\n                        animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n                    }\n                    \n                    .cart-badge {\n                        position: absolute;\n                        top: -5px;\n                        right: -5px;\n                        background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);\n                        color: white;\n                        border-radius: 50%;\n                        width: 24px;\n                        height: 24px;\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        font-size: 12px;\n                        font-weight: bold;\n                        box-shadow: 0 4px 12px rgba(231, 76, 60, 0.4);\n                        border: 2px solid white;\n                    }\n                    \n                    .cart-badge.pulse::after {\n                        content: '';\n                        position: absolute;\n                        top: 0;\n                        left: 0;\n                        width: 100%;\n                        height: 100%;\n                        border-radius: 50%;\n                        background: inherit;\n                        animation: pulse-ring 1.5s ease-out infinite;\n                    }\n                    \n                    .cart-icon {\n                        font-size: 24px;\n                        color: white;\n                    }\n                `}\n            </style>\n\n            <div className=\"floating-cart\">\n                <Link\n                    to=\"/cart\"\n                    className={`floating-cart-icon ${isAnimating ? 'bounce-in' : ''}`}\n                >\n                    <i className=\"ci-shopping-cart cart-icon\"></i>\n                    <span className={`cart-badge ${isAnimating ? 'pulse' : ''}`}>\n                        {cart.total_items > 99 ? '99+' : cart.total_items}\n                    </span>\n                </Link>\n            </div>\n        </>\n    );\n};\n\nexport default FloatingCart;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,OAAO,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEjD,KAAM,CAAAC,YAAsB,CAAGA,CAAA,GAAM,CACjC,KAAM,CAAEC,IAAK,CAAC,CAAGR,OAAO,CAAC,CAAC,CAC1B,KAAM,CAACS,WAAW,CAAEC,cAAc,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACc,SAAS,CAAEC,YAAY,CAAC,CAAGf,QAAQ,CAAC,CAAC,CAAC,CAE7C;AACAC,SAAS,CAAC,IAAM,CACZe,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAE,CACtCC,OAAO,CAAE,CAAC,CAACP,IAAI,CACfQ,UAAU,CAAER,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAES,WAAW,CAC7BN,SACJ,CAAC,CAAC,CAEF,GAAIH,IAAI,EAAIA,IAAI,CAACS,WAAW,CAAGN,SAAS,CAAE,CACtCD,cAAc,CAAC,IAAI,CAAC,CACpB,KAAM,CAAAQ,KAAK,CAAGC,UAAU,CAAC,IAAMT,cAAc,CAAC,KAAK,CAAC,CAAE,GAAG,CAAC,CAC1D,MAAO,IAAMU,YAAY,CAACF,KAAK,CAAC,CACpC,CACA,GAAIV,IAAI,CAAE,CACNI,YAAY,CAACJ,IAAI,CAACS,WAAW,CAAC,CAClC,CACJ,CAAC,CAAE,CAACT,IAAI,CAAEG,SAAS,CAAC,CAAC,CAErB;AACA,GAAI,CAACH,IAAI,EAAIA,IAAI,CAACS,WAAW,GAAK,CAAC,CAAE,CACjC,MAAO,KAAI,CACf,CAEA,mBACIb,KAAA,CAAAE,SAAA,EAAAe,QAAA,eACInB,IAAA,UAAAmB,QAAA,o2HAwFO,CAAC,cAERnB,IAAA,QAAKoB,SAAS,CAAC,eAAe,CAAAD,QAAA,cAC1BjB,KAAA,CAACL,IAAI,EACDwB,EAAE,CAAC,OAAO,CACVD,SAAS,uBAAAE,MAAA,CAAwBf,WAAW,CAAG,WAAW,CAAG,EAAE,CAAG,CAAAY,QAAA,eAElEnB,IAAA,MAAGoB,SAAS,CAAC,4BAA4B,CAAI,CAAC,cAC9CpB,IAAA,SAAMoB,SAAS,eAAAE,MAAA,CAAgBf,WAAW,CAAG,OAAO,CAAG,EAAE,CAAG,CAAAY,QAAA,CACvDb,IAAI,CAACS,WAAW,CAAG,EAAE,CAAG,KAAK,CAAGT,IAAI,CAACS,WAAW,CAC/C,CAAC,EACL,CAAC,CACN,CAAC,EACR,CAAC,CAEX,CAAC,CAED,cAAe,CAAAV,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}